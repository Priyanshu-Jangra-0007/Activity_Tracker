<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Tracker - Create Account</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>

    <!-- Floating particles -->
    <div class="particle" style="left: 15%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 35%; animation-delay: 1.5s;"></div>
    <div class="particle" style="left: 55%; animation-delay: 3s;"></div>

    <div class="container">
        <div class="card">
            <div class="logo-container">
                <div class="logo">ðŸŽ¯</div>
            </div>

            <h1 class="title">Create Account</h1>
            <p class="subtitle">Join us and start tracking today</p>

            <form id="signupForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" required placeholder="Your Name">
                </div>

                <div class="form-group">
  <label>Email</label>
  <input type="email" required placeholder="your.email@example.com">
</div>

<div class="form-group">
  <label>Password</label>
  <input type="password" required placeholder="Create a strong password">
</div>

<div class="form-group">
  <label>Confirm Password</label>
  <input type="password" required placeholder="Confirm your password">
</div>



<div class="checkbox-group">
  <input type="checkbox" id="tcCheckbox" required>
  <label for="tcCheckbox">
    I agree to the
    <a href="#" id="openTcModal" class="tc-link">Terms & Conditions</a>
  </label>
</div>

<!-- Terms & Conditions Modal -->
<div id="tcModal" class="tc-modal" aria-hidden="true">
  <div class="tc-modal-content">

    <div class="tc-modal-header">
      <h2>Terms & Conditions</h2>
      <button type="button" id="closeTcModal" class="tc-close-btn">
        &times;
      </button>
    </div>

    <div class="tc-modal-body">
      <p>
        By using this service, you agree to comply with and be bound by the following terms and conditions.
        Please review them carefully before proceeding.
      </p>

      <p>
        These terms govern your access to and use of the platform, including any content, functionality,
        and services offered. If you do not agree to these terms, you should not use this service.
      </p>

      <p>
        Additional terms, policies, or guidelines may apply depending on your use of specific features.
      </p>
    </div>

    <div class="tc-modal-footer">
      <button type="button" id="acceptTcBtn" class="tc-primary-btn">
        Close
      </button>
    </div>

  </div>
</div>



                <button type="submit" class="btn">Create Account</button>
                <button
  type="button"
  class="btn btn-secondary"
  onclick="googleSignIn()">
  Continue with Google
</button>

                <button
                    type="button"
                    class="btn btn-secondary"
                    onclick="window.location.href='login.html'">
                    Back to Login
                </button>
            </form>
        </div>
    </div>
    <script type="module">
  import { auth } from "./firebase.js";
  import {
    createUserWithEmailAndPassword,
    GoogleAuthProvider,
    signInWithPopup
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const form = document.getElementById("signupForm");
  const inputs = form.querySelectorAll("input");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = inputs[1].value.trim();
    const password = inputs[2].value.trim();
    const confirmPassword = inputs[3].value.trim();

    if (password !== confirmPassword) {
      alert("Passwords do not match");
      return;
    }

    try {
      await createUserWithEmailAndPassword(auth, email, password);
      window.location.href = "index.html";
    } catch (err) {
      if (err.code === "auth/email-already-in-use") {
        alert("Account already exists. Please log in instead.");
        window.location.href = "login.html";
      } else {
        alert(err.message);
      }
    }
  });

  // Google Sign-In
  const provider = new GoogleAuthProvider();

  window.googleSignIn = async () => {
    try {
      await signInWithPopup(auth, provider);
      window.location.href = "index.html";
    } catch (error) {
      alert(error.message);
    }
  };
</script>
<script>
  const tcModal = document.getElementById("tcModal");
  const openTcModal = document.getElementById("openTcModal");
  const closeTcModal = document.getElementById("closeTcModal");
  const acceptTcBtn = document.getElementById("acceptTcBtn");

  openTcModal.addEventListener("click", (e) => {
    e.preventDefault();
    tcModal.style.display = "block";
    tcModal.setAttribute("aria-hidden", "false");
  });

  function closeTc() {
    tcModal.style.display = "none";
    tcModal.setAttribute("aria-hidden", "true");
  }

  closeTcModal.addEventListener("click", closeTc);
  acceptTcBtn.addEventListener("click", closeTc);

  window.addEventListener("click", (e) => {
    if (e.target === tcModal) {
      closeTc();
    }
  });
</script>


</body>
</html>
