<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Tracker - Login</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>

    <!-- Floating particles -->
    <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; animation-delay: 1s;"></div>
    <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
    <div class="particle" style="left: 40%; animation-delay: 3s;"></div>
    <div class="particle" style="left: 50%; animation-delay: 4s;"></div>

    <div class="container">
        <div class="card">
            <div class="logo-container">
                <div class="logo">ðŸŽ¯</div>
            </div>

            <h1 class="title">Activity Tracker</h1>
            <p class="subtitle">Track your journey to success</p>

            <form id="loginForm">
                <div class="form-group">
  <label>Email</label>
  <input
    type="email"
    id="loginEmail"
    placeholder="your.email@example.com"
    required
  >
</div>

<div class="form-group">
  <label>Password</label>
  <input
    type="password"
    id="loginPassword"
    placeholder="Enter your password"
    required
  >
</div>



                <div class="checkbox-group">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                </div>

                <button type="submit" class="btn">Login</button>
                <button
  type="button"
  class="btn btn-secondary"
  onclick="googleSignIn()">
  Continue with Google
</button>

                <button
                    type="button"
                    class="btn btn-secondary"
                    onclick="window.location.href='signin.html'">
                    Create Account
                </button>

                <p class="text-center">
                    Forgot password? <a href="reset.html" class="link">Reset here</a>
                </p>
            </form>
        </div>
    </div>

    </body>

<script type="module">
  import { auth } from "./firebase.js";
  import { signInWithEmailAndPassword }
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const form = document.getElementById("loginForm");

  console.log("Login script loaded");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    console.log("Login submitted");

    const email = document.getElementById("loginEmail").value.trim();
    const password = document.getElementById("loginPassword").value;

    try {
      await signInWithEmailAndPassword(auth, email, password);
      window.location.href = "index.html";
    } catch (err) {
      alert(err.code);
      console.error(err);
    }
  });
</script>
</body>
</html>
