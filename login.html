<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Tracker - Login</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>

    <!-- Floating particles -->
    <div class="particle" style="left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="left: 20%; animation-delay: 1s;"></div>
    <div class="particle" style="left: 30%; animation-delay: 2s;"></div>
    <div class="particle" style="left: 40%; animation-delay: 3s;"></div>
    <div class="particle" style="left: 50%; animation-delay: 4s;"></div>

    <div class="container">
        <div class="card">
            <div class="logo-container">
                <div class="logo">ðŸŽ¯</div>
            </div>

            <h1 class="title">Activity Tracker</h1>
            <p class="subtitle">Track your journey to success</p>

            <form id="loginForm">
                <div class="form-group">
  <label>Email</label>
  <input type="email" placeholder="your.email@example.com" required>
</div>

<div class="form-group">
  <label>Password</label>
  <input type="password" placeholder="Enter your password" required>
</div>


                <div class="checkbox-group">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe">Remember me</label>
                </div>

                <button type="submit" class="btn">Login</button>
                <button
  type="button"
  class="btn btn-secondary"
  onclick="googleSignIn()">
  Continue with Google
</button>

                <button
                    type="button"
                    class="btn btn-secondary"
                    onclick="window.location.href='signin.html'">
                    Create Account
                </button>

                <p class="text-center">
                    Forgot password? <a href="reset.html" class="link">Reset here</a>
                </p>
            </form>
        </div>
    </div>

    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
    GoogleAuthProvider,
    signInWithPopup
  } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyCuk1-E7-RfE7coqA9hh4rAFpTNIlyTbV8",
    authDomain: "activity-tracker-web-dc8bb.firebaseapp.com",
    projectId: "activity-tracker-web-dc8bb",
    storageBucket: "activity-tracker-web-dc8bb.firebasestorage.app",
    messagingSenderId: "243753651024",
    appId: "1:243753651024:web:3030467037a6c830b63a55"
  };

  // Init Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ================= EMAIL / PASSWORD LOGIN =================
  const form = document.getElementById("loginForm");
  const inputs = form.querySelectorAll("input");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = inputs[0].value.trim();
    const password = inputs[1].value.trim();

    try {
      await signInWithEmailAndPassword(auth, email, password);
      window.location.href = "index.html";
    } catch {
      alert("Invalid email or password");
    }
  });

  // ================= GOOGLE SIGN-IN =================
  const provider = new GoogleAuthProvider();

  window.googleSignIn = async function () {
    try {
      await signInWithPopup(auth, provider);
      window.location.href = "index.html";
    } catch (error) {
      alert(error.message);
    }
  };
</script>

</body>
</html>
